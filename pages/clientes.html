<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clientes e Crediário - Sistema Vestio</title>
    <link rel="stylesheet" href="../css/globais.css">
    <script type="module" src="../js/auth-guard.js"></script>

    <style>
        .container-clientes { display: flex; gap: 20px; }
        .card-form { background: white; padding: 20px; border-radius: 8px; flex: 1; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .card-lista { background: white; padding: 20px; border-radius: 8px; flex: 2; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; font-size: 14px; }
        th { background-color: #2c3e50; color: white; }
        
        .busca-input { width: 100%; padding: 10px; font-size: 16px; border: 1px solid #ccc; border-radius: 8px; margin-bottom: 15px; outline: none; }
        .busca-input:focus { border-color: #3498db; }
        
        .btn-acao { border: none; padding: 5px 8px; border-radius: 4px; cursor: pointer; color: white; font-size: 12px; margin-right: 5px; }
        .btn-editar { background-color: #f39c12; }
        .btn-excluir { background-color: #e74c3c; }
        .btn-crediario { background-color: #3498db; width: 100%; margin-top: 5px; }
    </style>
</head>
<body style="margin: 0;">

    <header style="background-color: #2c3e50; color: white; padding: 15px 20px; display: flex; justify-content: space-between;">
        <h1 style="margin: 0; font-size: 1.5rem;">Sistema Vestio - Clientes</h1>
        <button id="btn-voltar" style="background-color: #34495e; color: white; padding: 5px 15px;">Voltar ao Painel</button>
    </header>

    <div style="display: flex; min-height: calc(100vh - 60px);">
        <nav style="width: 250px; background-color: #34495e; padding: 20px;">
            <ul style="list-style: none; padding: 0; margin: 0;">
                <li style="margin-bottom: 10px;"><a href="dashboard.html" style="color: white; text-decoration: none; display: block; padding: 10px;">Início</a></li>
                <li style="margin-bottom: 10px;"><a href="pdv.html" style="color: white; text-decoration: none; display: block; padding: 10px;">PDV</a></li>
                <li style="margin-bottom: 10px;"><a href="estoque.html" style="color: white; text-decoration: none; display: block; padding: 10px;">Estoque</a></li>
                <li style="margin-bottom: 10px;"><a href="#" style="color: white; text-decoration: none; display: block; padding: 10px; background-color: #2c3e50; border-radius: 4px;">Clientes</a></li>
            </ul>
        </nav>

        <main style="flex: 1; padding: 30px;">
            <div class="container-clientes">
                
                <div class="card-form">
                    <h3 id="titulo-form">Cadastrar Novo Cliente</h3>
                    <form id="form-cliente">
                        <label>Nome Completo</label>
                        <input type="text" id="nomeCliente" required placeholder="Ex: Maria da Silva">
                        
                        <div class="grid-2">
                            <div>
                                <label>CPF</label>
                                <input type="text" id="cpfCliente" required placeholder="000.000.000-00">
                            </div>
                            <div>
                                <label>Data de Nascimento</label>
                                <input type="date" id="dataNascimento" required>
                            </div>
                        </div>

                        <label>WhatsApp / Telefone</label>
                        <input type="text" id="telefoneCliente" required placeholder="(00) 00000-0000">

                        <label>Endereço Completo</label>
                        <input type="text" id="enderecoCliente" required placeholder="Rua, Número, Bairro, Cidade">

                        <div style="margin-top: 15px; padding: 15px; background-color: #f9f9f9; border-left: 4px solid #3498db;">
                            <label style="color: #2c3e50; font-weight: bold;">Limite de Crediário (R$)</label>
                            <input type="number" step="0.01" id="limiteCredito" required placeholder="Ex: 500.00" value="0">
                            <small style="color: #7f8c8d;">Defina 0 para clientes sem crediário aprovado.</small>
                        </div>

                        <button type="submit" id="btn-submit-cliente" style="width: 100%; margin-top: 20px; background-color: #27ae60; color: white; padding: 12px; font-weight: bold;">Salvar Cliente</button>
                        <button type="button" id="btn-cancelar-edicao" style="width: 100%; margin-top: 10px; background-color: #95a5a6; color: white; padding: 10px; display: none;">Cancelar Edição</button>
                    </form>
                </div>

                <div class="card-lista">
                    <h3>Base de Clientes</h3>
                    <input type="text" id="busca-cliente" class="busca-input" placeholder="Buscar por Nome ou CPF...">
                    
                    <table>
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>CPF</th>
                                <th>WhatsApp</th>
                                <th>Limite Atual</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-clientes">
                            </tbody>
                    </table>
                </div>

            </div>
        </main>
    </div>

    <script type="module" src="../js/clientes.js"></script>
</body>
</html>