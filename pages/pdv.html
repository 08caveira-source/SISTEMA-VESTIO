<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caixa (PDV) - Vestio</title>
    <link rel="stylesheet" href="../css/globais.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        /* Oculta o menu lateral globalmente garantindo que ele nunca apare√ßa aqui */
        .menu-lateral { display: none !important; }
        
        /* Ajusta o header para colar no canto esquerdo e ocupar 100% da tela */
        header { left: 15px !important; width: calc(100% - 30px) !important; }
        
        /* Remove a margem que existia para dar espa√ßo ao menu lateral */
        main { margin-left: 0 !important; margin-top: 90px !important; }
        
        /* Ajusta o layout do grid para aproveitar a tela cheia */
        .pdv-grid { grid-template-columns: 2fr 1fr; height: calc(100vh - 120px); gap: 20px; }
    </style>
</head>
<body>
    <header>
        <h1 style="color: #30D158;">üõí Frente de Caixa (PDV)</h1>
        <div style="display: flex; align-items: center; gap: 15px;">
            <span id="info-juros" style="color: #FF9F0A; font-weight: bold; font-size: 12px; border: 1px solid #FF9F0A; padding: 4px 8px; border-radius: 4px;">Juros: 0%</span>
            <span id="nome-utilizador" style="font-weight: bold;">Vendedor</span>
            <button id="btn-fechar-pdv" class="btn-vermelho" style="width: auto; padding: 0 20px;">‚úñ FECHAR CAIXA</button>
        </div>
    </header>

    <main>
        <div class="pdv-grid">
            <div class="coluna" style="display: flex; flex-direction: column;">
                <div class="input-group" style="position: relative;">
                    <label>Adicionar Produto</label>
                    <input type="text" id="busca-produto" placeholder="Bipe o c√≥digo de barras ou digite o nome..." autocomplete="off" autofocus>
                    <div id="sugestoes-produtos" style="position:absolute; top:100%; left:0; right:0; background:#1e293b; border:1px solid #334155; border-radius:0 0 8px 8px; z-index:1000; display:none; max-height:200px; overflow-y:auto;"></div>
                </div>

                <div class="tabela-container" style="flex: 1; margin-top: 20px; overflow-y: auto; background: rgba(0,0,0,0.2) !important; border-radius: 8px;">
                    <div id="lista-carrinho" style="padding: 10px;">
                        </div>
                </div>
            </div>

            <div class="coluna" style="display: flex; flex-direction: column; justify-content: space-between;">
                <div>
                    <div class="input-group" style="position: relative; margin-bottom: 20px;">
                        <label>Vincular Cliente (Opcional)</label>
                        <input type="text" id="busca-cliente" placeholder="üë§ Nome ou CPF do cliente..." autocomplete="off">
                        <div id="sugestoes-clientes" style="position:absolute; top:100%; left:0; right:0; background:#1e293b; border:1px solid #334155; border-radius:0 0 8px 8px; z-index:1000; display:none; max-height:200px; overflow-y:auto;"></div>
                    </div>

                    <div class="input-group" style="margin-bottom: 20px;">
                        <label>Forma de Pagamento</label>
                        <select id="forma-pagamento">
                            <option value="Dinheiro">Dinheiro</option>
                            <option value="PIX">PIX</option>
                            <option value="Cart√£o de Cr√©dito">Cart√£o de Cr√©dito</option>
                            <option value="Cart√£o de D√©bito">Cart√£o de D√©bito</option>
                            <option value="Credi√°rio">Credi√°rio (Fiado)</option>
                        </select>
                    </div>

                    <div id="area-parcelas" class="input-group" style="margin-bottom: 20px; display: none;">
                        <label>Quantidade de Parcelas</label>
                        <input type="number" id="qtd-parcelas" value="1" min="1">
                    </div>

                    <div class="input-group" style="margin-bottom: 20px;">
                        <label>Desconto Adicional (R$)</label>
                        <input type="number" id="valor-desconto" placeholder="0.00" step="0.01">
                    </div>
                </div>

                <div class="resumo-venda-box" style="margin-bottom: 0; background: rgba(0,0,0,0.3) !important;">
                    <div style="font-size: 14px; color: #94a3b8; text-transform: uppercase;">Total a Pagar</div>
                    <div id="total-venda" class="total-valor" style="font-size: 48px; margin: 10px 0;">R$ 0,00</div>
                    <button id="btn-finalizar" class="btn-verde" style="width: 100%; height: 60px !important; font-size: 16px !important; margin-top: 15px;">üí≥ FINALIZAR VENDA</button>
                </div>
            </div>
        </div>
    </main>

    <script type="module" src="../js/pdv.js"></script>
</body>
</html>